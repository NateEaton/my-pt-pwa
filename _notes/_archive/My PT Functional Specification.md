# My PT - Physical Therapy Home Exercise Tracker

## Functional Specification

### Overview

The purpose of this application is to be able to create a custom program of physical therapy exercises to do at home (based on direction from a physical therapist), then track the exercises daily. In addition to tracking the exercise program, the application has a "session" feature where the user can time the performance of each exercise and, in the course of completing a program, automatically journal the completion of their exercises. 

#### Technical Features 
* Progressive Web App, installable on iOS or Android or run in browser
* Local-first, with in-browser storage and full offline functionality
* Privacy-centric
* Simple, clean UI

#### Functional Features
* Fully configurable - provides a settings module for defining new exercises and editing existing ones
* Every day has a session to perform - this is what is shown when the app opens. The default session is all exercises defined in the app where they were added to the "session default"
* Alternative sessions can be defined, sort of like creating playlists in a music app. The user can create a session definition and add which exercises to include. They can also override the default number of reps, sets or duration. Each session definition has a descriptive name defined by the user. 
* Instead of performing the default session, the user can pick one of the alternative sessions or they can create an ad hoc session definition from all available exercises. 


#### rough draft notes
* Once the user clicks on the current day session, the screen displays the following, the session date, the name of the session definition which will either be default or an alternative already picked, and a list of the exercises in the selected session definition with the expected duration. The user can click on button select a different session definition, click on edit icon to edit the session definition for this session only, or click on buttons for play session or log session. 
* Do you use your pics log session, currently defined session is recorded in their session journal for today's date. The information recorded includes that it was logged, played and which session definition was logged, whether it was the default, an alternative session definition selected, or a custom session definition which would be the case if they had a session definition selected and picked at it to change the exercises and or raps, sets, duration. 
* If they pick the button to select the different session definition, that the one they select becomes the current session definition. If they pick edit, then they get a page where they can add or remove exercises and update durations, sets, reps. 
* If they pick play session, screen clears and is replaced by a view inspired by media players. There would be rows with each row containing a cell for an individual exercise. The cell would have a relatively tall top row that across the top of it has the number of the exercise in the current playlist, the name of the exercise and which set, rep or duration is active. Once the first exercise starts, a colored bar starts filling in the cell from left to right and progresses until completion of the exercise. The color of the background for the cell should be complementary to the text color overlaying it. As the exercise progresses, if it is a duration-based exercise then the text includes the total expected duration and below and in slightly larger font a countdown clock for the duration. In the middle of the cell, below that text and prominent in the cell will appear a set of countdown timers. The first one will be a countdown to start up the exercise counting down from 10:00, with the actual duration timer starting at the conclusion of that countdown. The countdown timer shows in large font the seconds remaining till the start and then the duration timer takes over and starts counting down the duration until the end of the exercise. As it gets near the end, another countdown timer in large numbers shows the seconds remaining beginning at 10 seconds remaining. The number of seconds for counting down to the start of an exercise and the number of seconds to show as the end of the exercise approaches should be configurable in settings 
* For a sets and reps exercise, as with the duration exercises, the first thing that starts is countdown in large clearly visible font of the seconds till the start of the exercise after which the background color bar starts progressing across the cell. The way in which sets of reps are presented are for it to show the total number of cents and reps to complete and the count up of the current set and current reps. Once a set completes there is another countdown timer in large prominent font counting the seconds until the start of the next set. The pace of raps counting up is determined by the pace information defined in settings for the given exercise. On the very last set of an individual exercise, in addition to showing the reps counting up the last in seconds of the overall exercise should count down in large prominently displayed font. 
* And going back to the note about having a setting to define the duration of a reps and set exercise, it should actually be controlled by two things. First, in settings have a default duration per rep to use as a global value. Second, within a given exercise definition, for a reps and sets exercise it should default to that for rep duration and should show a calculated total duration of the exercise based on that and the number of reps and sets. The duration per rep for the exercise in the exercise definition can be overridden. In changing it with an overridden value, the display should show what the expected duration based on that rep duration and the total number of reps and sets will be. 
* As one exercise completes during a session being played, the next exercise should start, repeating all of what was described about. The completed exercise should have a somewhat muted coloration and should have a check mark showing it was completed. Has exercises are completed and the session continues to the next exercise, the display of exercises should scroll to bring into view the next exercise to perform. 
* A change in the description above in terms of the currently playing exercise. As a session is being played, the top third of the screen should have all of what was described for the cell representing the currently running exercise. The actual exercise cell in the list should just have a visual indication, perhaps a change in transparency or other visual cue that it is the exercise shown at the top of the display. Otherwise the top of the display should look and act generally has described but with two differences. First there should be a pause button allowing the user to pause playing the session. Second there should be a skip button allowing the user to skip current exercise. Either can be selected at any point during an exercise. Let's add one more thing to it, a button to save and exit the session and another button to exit the session saving current progress only. The difference is the save and exit finishes the session for the day. The other button just records the progress made so far and the user can come back into the app and select the incompleted session finish playing it later. 
* The app should have a journal that shows the history of sessions over time with a mixed in Friday through the journal and a calendar button to go back in look at a  particular date to review. 
* The overall user interface when the application opens should show current day session with options too pick it and play along, continue, or review. Along the bottom of the UI there should be three icons, one for tracking, one for the journal and one for settings.
* To clarify the play session UI-
  - when started, there are two parts to the display, the top third with the progress info for current exercise and the rest of the display has the list of exercises
  - the list has rows where each has a cell that at the top shows the exercise number with a block below that with the descriptive name of the exercise and to it's left the duration of the exercise. If the exercise is reps, the number of reps in the set is listed below the name
  - for multiple sets, each set is listed in a separate row
  - the top of the display is broken into two parts, with the upper two thirds of it having: 
     + A count up timer at top left that shows how long the current exercise had been running
     + A pause button at top right
     + A skip button at bottom right
     + In center is where instructions display in big, bold font (see below for info on instructions) 
  - the lower third of top of the display is where the block of cell for current exercise scrolls into place as it becomes the active exercise
  - as the exercise progresses, the timer in that block counts down (whether duration or reps-based exercise) 
  - the background of that block has the color change that moves across from left to right, filling it as the exercise completes.  The background color should be dark blue with white text but there should be a think white bar below the blue that also fills in time with the blue background changing
  - if the skip button is picked the current exercise is ended and the next started
  - if the pause button is pressed a new display is shown with the number and name of the current exercise. In center is a VCR style play button and one to its left to rewind the exercise 15 seconds. To it's right is a stop button that when pressed gives the option to save and exit (ending the session) or save and quit (leaving the session but allowing it to be finished later in the day; if the user never gets back to finishing the decision, when app is opened or regains focus on a new day, any incomplete session is finalized in the journal).
  - 