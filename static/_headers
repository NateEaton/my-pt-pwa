# Cloudflare Pages Headers Configuration
# These headers ensure proper PWA behavior and service worker updates

# Service Worker - always fresh, never cached by browser
/sw.js
  Cache-Control: public, max-age=0, must-revalidate
  Service-Worker-Allowed: /

# Workbox runtime files - always fresh
/workbox-*.js
  Cache-Control: public, max-age=0, must-revalidate

# Manifest - check frequently for updates
/manifest.webmanifest
  Cache-Control: public, max-age=0, must-revalidate

# HTML files - check for updates but allow stale-while-revalidate
/*.html
  Cache-Control: public, max-age=0, must-revalidate

# Static assets with hashed filenames - cache forever
/_app/immutable/*
  Cache-Control: public, max-age=31536000, immutable

# Security headers for all pages
/*
  X-Frame-Options: DENY
  X-Content-Type-Options: nosniff
  Referrer-Policy: strict-origin-when-cross-origin
  Permissions-Policy: interest-cohort=()
